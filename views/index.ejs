<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intern 2 Tasks</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <form action="/api/add" id="form1">
      <h3>Addition form</h3>
      <label for="num1">Number 1</label>
      <input type="number" name="num1" id="num1" required />
      <br />
      <label for="num2">Number 2</label>
      <input type="number" name="num2" id="num2" required />
      <br />
      <button type="submit">Submit</button>
    </form>
    <br />

    <form action="/api/name" id="form2">
      <h3>Name Form</h3>
      <label for="num1">First Name</label>
      <input type="text" name="firstName" id="firstName" required />
      <br />
      <label for="num2">Last Name</label>
      <input type="text" name="lastName" id="lastName" required />
      <br />
      <button type="submit">Submit</button>
    </form>
    <br />

    <form action="/api/subtract" id="form3">
      <h3>Subtraction Form</h3>
      <label for="num1">Number 1</label>
      <input type="number" name="numSub1" id="numSub1" required />
      <br />
      <label for="num2">Number 2</label>
      <input type="number" name="numSub2" id="numSub2" required />
      <br />
      <button type="submit">Submit</button>
    </form>
    <script>
      $(document).ready(function () {
        // Handle addition form submission
        $("#form1").on("submit", function (event) {
          event.preventDefault();

          const num1 = parseFloat($("#num1").val());
          const num2 = parseFloat($("#num2").val());

          $.ajax({
            url: "/api/add",
            method: "POST",
            contentType: "application/json",
            data: JSON.stringify({ num1, num2 }),
            success: function (res) {
              alert("The sum is: " + res.message);
            },
            error: function (jqXHR, textStatus, errorThrown) {
              console.log("Error:", textStatus, errorThrown);
            },
          });
        });

        $("#form2").on("submit", function (event) {
          event.preventDefault();

          const firstName = $("#firstName").val();
          const lastName = $("#lastName").val();

          $.ajax({
            url: "/api/name",
            method: "POST",
            contentType: "application/json",
            data: JSON.stringify({ firstName, lastName }),
            success: function (res) {
              alert(res.message);
            },
            error: function (jqXHR, textStatus, errorThrown) {
              console.log("Error:", textStatus, errorThrown);
            },
          });
        });

        $("#form3").on("submit", function (event) {
          event.preventDefault();

          const num1 = parseFloat($("#numSub1").val());
          const num2 = parseFloat($("#numSub2").val());

          $.ajax({
            url: "/api/subtract",
            method: "POST",
            contentType: "application/json",
            data: JSON.stringify({ num1, num2 }),
            success: function (res) {
              alert("The difference is: " + res.message);
            },
            error: function (jqXHR, textStatus, errorThrown) {
              console.log("Error:", textStatus, errorThrown);
            },
          });
        });
      });
    </script>
  </body>
</html>
